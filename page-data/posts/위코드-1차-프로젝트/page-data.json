{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/위코드-1차-프로젝트","result":{"data":{"markdownRemark":{"id":"4dccdd62-d701-5e84-b234-611362c9fa32","html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.90277777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACuklEQVQoz4WS20uTYRzH3/8gosuELrKLlFKyVEwtutEgZyWukRepGGShZaaWpcuJkgfQeajIUx7ykJqVpJLhzIqQrGmUcy3tQBlNI6duc6c+ve9b67YHvvy+v+/v+Dw8wvDwMDqdDtP7dxhnJnkn4tOHGUzG17w3vcH8dZZv8x/4/nmahS8zWBbmsS7/xGJZxu50YnM4WbJYMM7OMaGfRAgODiY8PJzIyHCiovahOBBF/OEYNmxYh+/mTeScTiU3Nwt1Vgqa3DTqi3Po6Wymb2CIlqY6em53MPHWgDonDUVMNIKfnx/bAwII2x3GEaUSheIASmU8+yNDSYiN5uSpVDIy0jiXlUFmSTWF11uo7Rmk9c59ai9n0lCUzeDYMx523qD/bg9CgNhsR1AQERERqFRKkpOTOH8pH41GQ1lpGRfy1CQmHSNKoSBFU0nJrX6udAzR2t5GfnIM3ZV56KcmefHWhG5cjxAYGEhIaAg7d+1kq/9W9uzdQ2bORdRFJWiv1nOpoJij8bGcTVJyLEFFRWM7Je0DtNVV0VFViOHNa6amDYzqDfSPPkfY6OOD7xZf8c3WIwgCAdv8SVCpSE8/Q3Z2FscTVagORpN5Iom4uEMUlGopr2+juaaU8alpXun1jD0epfhqAxW1NQharZYakZSXl1FYoKa6SkvT9Roe9HbTe6+LzrZr3GxsoKxCS0t3H/1PJhh4NMLEUx0f583Mzc1imHpJV28fI8ODCPzn2OwOzGYzPxYXWbPZ/qq/8PwCp2MNp/h1XG7Pv3xhZWUFCTabVfxbSzgcDlZFf3V1VeZLS380q9Uqay6XW853Oh3Y7XaxxvKnRoxZRQiSKEESJetyueSp8mSRS5p0PB6PnON2u2XrzZPikrWJ20tcbig5XkGy0jYSJL4oXtVoNGIymWTujXnj3hrvYr8BULSncL0+pVIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/6a34febc74477fa7e57a4d30bc36ded8/8ac56/wespace_screenshot.webp 240w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/d3be9/wespace_screenshot.webp 480w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/e46b2/wespace_screenshot.webp 960w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/f992d/wespace_screenshot.webp 1440w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/882b9/wespace_screenshot.webp 1920w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/d3d72/wespace_screenshot.webp 2880w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/6a34febc74477fa7e57a4d30bc36ded8/8ff5a/wespace_screenshot.png 240w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/e85cb/wespace_screenshot.png 480w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/d9199/wespace_screenshot.png 960w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/07a9c/wespace_screenshot.png 1440w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/29114/wespace_screenshot.png 1920w,\n/static/6a34febc74477fa7e57a4d30bc36ded8/d9ed5/wespace_screenshot.png 2880w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/6a34febc74477fa7e57a4d30bc36ded8/d9199/wespace_screenshot.png\"\n          alt=\"wespace screenshot\"\n          title=\"wespace screenshot\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span><br>\n영상: <a href=\"https://www.youtube.com/watch?v=ZN4xooW1LEQ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=ZN4xooW1LEQ</a></p>\n<ul>\n<li>WeSpace: <a href=\"https://www.spacecloud.kr/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SpaceCloud</a> 클론</li>\n<li>약 2주간 진행 (19.12.23 - 20.01.03)</li>\n<li>프론트앤드 2명 , 백엔드 2명으로 구성된 팀 프로젝트</li>\n<li>Git으로 소스코드 관리 - <a href=\"https://github.com/meekukin/WeSpace_backend\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">WeSpace Backend</a> git</li>\n<li>Trello를 이용한 협업, daily scrum meeting 진행</li>\n</ul>\n<h2 id=\"사용된-기술\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EB%90%9C-%EA%B8%B0%EC%88%A0\" aria-label=\"사용된 기술 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용된 기술</h2>\n<ul>\n<li>Python, Django, MySQL, Workbench</li>\n<li>Bcrypt, JWT</li>\n<li>RESTful API</li>\n<li>BeautifulSoup4, Selenium</li>\n</ul>\n<h2 id=\"참여한-부분\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%97%AC%ED%95%9C-%EB%B6%80%EB%B6%84\" aria-label=\"참여한 부분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참여한 부분</h2>\n<ul>\n<li>데이터 모델링</li>\n<li>로그인/회원가입 API</li>\n<li>Main page - category endpoint</li>\n</ul>\n<h2 id=\"느낀점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80%EC%A0%90\" aria-label=\"느낀점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀점</h2>\n<ul>\n<li>데이터 모델링<br>\n처음 해보는 것이어서 어려웠다. Aquery tool을 이용하여 테이블을 만들고 관계형 데이터베이스에 대해 고민해볼 수 있었다. 어떤 데이터의 테이블이 필요할지 생각해보고 서로 관계가 어떻게 되는지, 1-N인지 N-N인지 고민하는 과정을 통해 개념을 다시한번 익힐 수 있었으나 막상 실제로 적용해보려하니 쉽지만은 않았다. 처음에 Account app 안에 사용자와 호스트를 같이 넣지 않고 따로 model을 짰는데 나중에 호스트 로그인을 따로 만들어야 하기도 했다. 오래걸리더라도 처음부터 모델링을 할때 신중하게 해야될 것 같다는 생각을 했다. </li>\n<li>로그인/회원가입 API<br>\ntry/except 로 여러 exceptions를 고려해야된다는 점이 어려웠지만 사용자 입장에서는 매우 중요하고 필요한 부분이라는 것을 깨달았다. 비크립트를 이용한 비밀번호 암호화 개념도 좀더 정리가 필요할 것 같다. 깃에 소스 코드를 올릴때는 gitignore, my_settings 등의 파일도 잊지 말 것! 소셜로그인 api를 구현하지 못해 아쉬웠지만 좀 더 공부해서 다음 프로젝트 때 구현해보고싶다. 데코레이터에 대한 이해가 부족했는데 로그인 데코레이터를 구현해보면서 어떤식으로 데코레이터가 적용되는지에 대해 더 알 수 있어서 좋았다.</li>\n<li>\n<p>메인페이지 API<br>\n프론트에서 어떻게 데이터를 받아야 매핑을 잘 할 수 있을지에 대해 무지했는데 이번에 구현하면서 조금은 알게 되었다. 로직 구현할때 python list comprehension을 쓰는 것과 flat=True 쓰기. 예를 들면, 하나씩 튜플로 나오지 않고 객체로 나와서 프론트에서 매핑하기에 더 편리했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt;&gt;&gt; Entry.objects.values_list(&#39;id&#39;).order_by(&#39;id&#39;)\n&lt;QuerySet[(1,), (2,), (3,), ...]&gt;\n&gt;&gt;&gt; Entry.objects.values_list(&#39;id&#39;, flat=True).order_by(&#39;id&#39;)\n&lt;QuerySet [1, 2, 3, ...]&gt;</code></pre></div>\n<h2 id=\"기록하고-싶은-코드\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%A1%9D%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EC%BD%94%EB%93%9C\" aria-label=\"기록하고 싶은 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기록하고 싶은 코드</h2>\n</li>\n<li>로그인 데코레이터</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import jwt\nimport json\nfrom django.http import JsonResponse\nfrom .models import Accounts, Hosts\nfrom wespace.settings import SECRET_KEY\n\ndef login_decorator(func):\n    def wrapper(self, request, *args, **kwargs):\n        if &quot;Authorization&quot; not in request.headers:\n            return JsonResponse({&quot;error_code&quot;: &quot;INVALID_LOGIN&quot;}, status=401)\n\n        encode_token = request.headers[&quot;Authorization&quot;]\n\n        try:\n            data = jwt.decode(encode_token, SECRET_KEY, algorithm=&#39;HS256&#39;)\n            account = Accounts.objects.get(id=data[&#39;id&#39;])\n            request.account = account\n\n        except jwt.DecodeError:\n            return JsonResponse({&quot;error_code&quot;: &quot;INVALID_TOKEN&quot;}, status=401)\n\n        except Accounts.DoesNotExist:\n            return JsonResponse({&quot;error_code&quot;: &quot;UNKNOWN_USER&quot;}, status=401)\n\n        return func(self, request, *args, **kwargs)\n    return wrapper\n\n\t\t</code></pre></div>\n<ul>\n<li>Python list comprehension 이요한 로직구현.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">from django.views import View\nfrom django.http import JsonResponse\n\nfrom .models        import Spaces, Space_Categories, Images\nfrom account.models import Hosts\n\n\nclass CategoryView(View):\n    def get(self, request):\n        try:\n            categories = list(Space_Categories.objects.values(&#39;id&#39;,&#39;category&#39;))\n            return JsonResponse({&#39;Categority&#39;:categories}, status=200)\n        except:\n            return JsonResponse({&#39;result&#39;:&#39;ERROR&#39;}, status =400)\n\nclass RecommendView(View):\n    def get(self, request):\n        spaces = list(Spaces.objects.all())[:6]\n        recommend = [{\n            &#39;title&#39;    : space.title,\n            &#39;price&#39;    : space.price,\n            &#39;location&#39; : space.location,\n            &#39;image&#39;    : list(space.images_set.filter(space_id = space.id).values(&#39;space_image&#39;))\n        } for space in spaces]\n\n        return JsonResponse({&#39;data&#39;:recommend}, status =200)\n\nclass EditorView(View):\n    def get(self, request):\n        spaces = list(Spaces.objects.all())\n        editor = [{\n           &#39;image&#39;       : list(space.images_set.filter(space_id = space.id).values_list(&#39;space_image&#39;, flat=True)),\n            &#39;tag&#39;        : list(space.tags_set.filter(space_id = space.id).values(&#39;tag&#39;)),\n            &#39;title&#39;      : space.title,\n            &#39;price&#39;      : space.price,\n            &#39;long_intro&#39; : space.long_intro\n            } for space in spaces]\n\n        return JsonResponse({&#39;data&#39;:editor}, status = 200)\n        \nclass DetailSpaceView(View):\n    def get(self, request, space_id):\n        space = [\n            {\n                &#39;id&#39;: space.id,\n                &#39;title&#39;: space.title,\n                &#39;short_intro&#39;: space.short_intro,\n                &#39;long_intro&#39;: space.long_intro,\n                &#39;price&#39;: space.price,\n                &#39;location&#39;: space.location,\n                &#39;open_time&#39;: space.open_time,\n                &#39;close_time&#39;: space.close_time,\n                &#39;min_guest&#39;: space.min_guest,\n                &#39;min_time&#39;: space.min_time,\n                &#39;space_images&#39;: list(space.images_set.values_list(&#39;space_image&#39;, flat=True)),\n                &#39;host&#39;: list(Hosts.objects.filter(id=space.host_id).values(&#39;id&#39;, &#39;nick_name&#39;, &#39;email&#39;, &#39;phonenumber&#39;)),\n                &#39;tag&#39;: list(space.tags_set.values_list(&#39;tag&#39;, flat=True)),\n                &#39;notice&#39;: list(space.notices_set.values_list(&#39;notice&#39;, flat=True))\n            }\n            for space in Spaces.objects.filter(id=space_id)]\n        return JsonResponse({&#39;result&#39;: space}, status=200)</code></pre></div>","fields":{"slug":"/posts/위코드-1차-프로젝트","tagSlugs":null},"frontmatter":{"date":"2020-01-04T22:40:32.169Z","description":"위코드에서 진행한 스페이스클라우드 클론 1차 프로젝트","tags":null,"title":"Wecode 1차 프로젝트","socialImage":"#"}}},"pageContext":{"slug":"/posts/위코드-1차-프로젝트"}}}